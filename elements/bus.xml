<?xml version="1.0"?>

<config>
    stopAtCycle=1000000000000
    run-mode=both
</config>

<|-- reference definition -->
<bus_clock>1GHz</bus_clock>

<sst>
	<component id="opteron.0" >	
		<genericProc>
			<params>
              <debug> 0 </debug>
			  <clock> 2.0Ghz </clock>
			  <execFile> components/genericProc/programs/fooPrint </execFile>
			  <verbose> 0 </verbose>
			  <externalMem> 1 </externalMem>
              <info> yes </info>
              <initialCredit>     1 </initialCredit>
              <readReqCredit>   1 </readReqCredit>
              <writeReqCredit>  1 </writeReqCredit>
			 </params>
			<links>
				<link id="opteron2bus.0">
					<params>
						<name> mem0 </name>
						<lat> 1ps </lat>
					</params>
				</link>
			</links>
		</genericProc>
	</component>

    <component id="bus.0">
        <bus>
            <params>
                <info> yes </info>
                <debug> yes </debug>
                <clock reference=bus_clock />
                <deviceList> cpu memory0 memory1 </deviceList> 

                <cpu.debug> no </cpu.debug>
                <cpu.info> yes </cpu.info>
                <cpu.address>         0x0 </cpu.address>
                <cpu.length>          0x0 </cpu.length>

                <memory0.info>           yes        </memory0.info>
                <memory0.debug>          yes        </memory0.debug>
                <memory0.address>        0x0        </memory0.address>
                <memory0.length>         0x80000000 </memory0.length>
                <memory0.initialCredit>    1 </memory0.initialCredit>
                <memory0.readReqCredit>  1 </memory0.readReqCredit>
                <memory0.writeReqCredit> 1 </memory0.writeReqCredit>

                <memory1.info>           yes        </memory1.info>
                <memory1.debug>          no         </memory1.debug>
                <memory1.address>        0x80000000 </memory1.address>
                <memory1.length>         0x80000000 </memory1.length>
                <memory1.initialCredit>    1 </memory1.initialCredit>
                <memory1.readReqCredit>  1 </memory1.readReqCredit>
                <memory1.writeReqCredit> 1 </memory1.writeReqCredit>
            </params>
            <links>
                <link id="opteron2bus.0">
                    <params>
                        <lat> 1ps </lat>
                        <name> cpu </name>
                    </params>
                </link>
                <link id="memory.0.2bus.0">
                    <params>
                        <lat> 1ps </lat>
                        <name> memory0 </name>
                    </params>
                </link>
                <link id="memory.1.2bus.0">
                    <params>
                        <lat> 1ps </lat>
                        <name> memory1 </name>
                    </params>
                </link>
            </links>
        </bus>
    </component>

 	<component id="mem.0.0">
 		<DRAMSimC>
 			<params>
                <clock> 2.0Ghz </clock>
                <systemini> system.ini </systemini>
                <deviceini> ini/DDR3_micron_32M_8B_x8_sg15.ini </deviceini>
                <pwd> DRAMSim </pwd>
                <printstats> no </printstats>
                <info> yes </info>
                <debug> yes </debug>
 			</params>
 			<links>
 				<link id="memory.0.2bus.0">
 					<params>
 						<name> bus </name>
 						<lat> 1ps </lat>
 					</params>
 				</link>
 			</links>
 		</DRAMSimC>
 	</component>

 	<component id="mem.0.1">
 		<DRAMSimC>
 			<params>
                <clock> 2.0Ghz </clock>
                <systemini> system.ini </systemini>
                <deviceini> ini/DDR3_micron_32M_8B_x8_sg15.ini </deviceini>
                <pwd> DRAMSim </pwd>
                <printstats> no </printstats>
                <info> yes </info>
                <debug> yes </debug>
 			</params>
 			<links>
 				<link id="memory.1.2bus.0">
 					<params>
 						<name> bus </name>
 						<lat> 1ps </lat>
 					</params>
 				</link>
 			</links>
 		</DRAMSimC>
 	</component>

</sst>
