<?xml version="1.0"?>

<!-- general sim configuration -->
<!-- overridden by the command line -->
<config>
    lib-path=/home/myhsieh/local/sst/lib/sst
    stopAtCycle=100000
</config>

<!-- reference definition for cpu1 component -->
<!-- sim-panalyzer
<cpu1_params>
    <clock>2.2GHz</clock>
    <rev>1.5</rev>
    <power_monitor>NO</power_monitor>
    <power_model>SimPanalyzer</power_model>
    <power_level>1</power_level>    
    <supply_voltage>1.5</supply_voltage>
    <cache_freq>2200000000</cache_freq>
    <cache_il1_iC>6.6</cache_il1_iC>
    <cache_il1_eC>7.6</cache_il1_eC>
    <cache_il2_iC>6.6</cache_il2_iC>
    <cache_il2_eC>7.6</cache_il2_eC>
    <cache_dl1_iC>6.6</cache_dl1_iC>
    <cache_dl1_eC>7.6</cache_dl1_eC>
    <cache_dl2_iC>6.6</cache_dl2_iC>
    <cache_dl2_eC>7.6</cache_dl2_eC>
    <cache_itlb_iC>6.6</cache_itlb_iC>
    <cache_itlb_eC>7.6</cache_itlb_eC>
    <cache_dtlb_iC>6.6</cache_dtlb_iC>
    <cache_dtlb_eC>7.6</cache_dtlb_eC>
    <clock_eC>1.0</clock_eC>
    <alu_eC>2.0</alu_eC>
    <fpu_eC>3.0</fpu_eC>
    <mult_eC>4.0</mult_eC>
    <bpred_eC>5.0</bpred_eC>
    <rf_eC>6.0</rf_eC>
</cpu1_params>

<cpu2_params>
    <clock>2.2GHz</clock>
    <rev>1.5</rev>
    <power_monitor>YES</power_monitor>
    <power_model>SimPanalyzer</power_model>
    <power_level>2</power_level>    
    <supply_voltage>1.5</supply_voltage>
    <cache_freq>2200000000</cache_freq>
    <cache_il1_sC>3.5</cache_il1_sC>
    <cache_il1_number_sets>32</cache_il1_number_sets>
    <cache_il1_line_size>4</cache_il1_line_size>
    <cache_il1_number_bitlines>1</cache_il1_number_bitlines>
    <cache_il1_number_wordlines>1</cache_il1_number_wordlines>
    <cache_il1_associativity>1</cache_il1_associativity>
    <cache_il1_number_read_ports>0</cache_il1_number_read_ports>
    <cache_il1_number_write_ports>0</cache_il1_number_write_ports>
    <cache_il1_number_readwrite_ports>1</cache_il1_number_readwrite_ports>
    <cache_il2_sC>3.5</cache_il2_sC>
    <cache_il2_number_sets>32</cache_il2_number_sets>
    <cache_il2_line_size>4</cache_il2_line_size>
    <cache_il2_number_bitlines>1</cache_il2_number_bitlines>
    <cache_il2_number_wordlines>1</cache_il2_number_wordlines>
    <cache_il2_associativity>1</cache_il2_associativity>
    <cache_il2_number_read_ports>0</cache_il2_number_read_ports>
    <cache_il2_number_write_ports>0</cache_il2_number_write_ports>
    <cache_il2_number_readwrite_ports>1</cache_il2_number_readwrite_ports>    
    <cache_dl1_sC>3.5</cache_dl1_sC>
    <cache_dl1_number_sets>32</cache_dl1_number_sets>
    <cache_dl1_line_size>4</cache_dl1_line_size>
    <cache_dl1_number_bitlines>1</cache_dl1_number_bitlines>
    <cache_dl1_number_wordlines>1</cache_dl1_number_wordlines>
    <cache_dl1_associativity>1</cache_dl1_associativity>
    <cache_dl1_number_read_ports>0</cache_dl1_number_read_ports>
    <cache_dl1_number_write_ports>0</cache_dl1_number_write_ports>
    <cache_dl1_number_readwrite_ports>1</cache_dl1_number_readwrite_ports>
    <cache_dl2_sC>3.5</cache_dl2_sC>
    <cache_dl2_number_sets>32</cache_dl2_number_sets>
    <cache_dl2_line_size>4</cache_dl2_line_size>
    <cache_dl2_number_bitlines>1</cache_dl2_number_bitlines>
    <cache_dl2_number_wordlines>1</cache_dl2_number_wordlines>
    <cache_dl2_associativity>1</cache_dl2_associativity>
    <cache_dl2_number_read_ports>0</cache_dl2_number_read_ports>
    <cache_dl2_number_write_ports>0</cache_dl2_number_write_ports>
    <cache_dl2_number_readwrite_ports>1</cache_dl2_number_readwrite_ports>
    <cache_itlb_sC>3.5</cache_itlb_sC>
    <cache_itlb_number_sets>32</cache_itlb_number_sets>
    <cache_itlb_line_size>4</cache_itlb_line_size>
    <cache_itlb_number_bitlines>1</cache_itlb_number_bitlines>
    <cache_itlb_number_wordlines>1</cache_itlb_number_wordlines>
    <cache_itlb_associativity>1</cache_itlb_associativity>
    <cache_itlb_number_read_ports>0</cache_itlb_number_read_ports>
    <cache_itlb_number_write_ports>0</cache_itlb_number_write_ports>
    <cache_itlb_number_readwrite_ports>1</cache_itlb_number_readwrite_ports>
    <cache_dtlb_sC>3.5</cache_dtlb_sC>
    <cache_dtlb_number_sets>32</cache_dtlb_number_sets>
    <cache_dtlb_line_size>4</cache_dtlb_line_size>
    <cache_dtlb_number_bitlines>1</cache_dtlb_number_bitlines>
    <cache_dtlb_number_wordlines>1</cache_dtlb_number_wordlines>
    <cache_dtlb_associativity>1</cache_dtlb_associativity>
    <cache_dtlb_number_read_ports>0</cache_dtlb_number_read_ports>
    <cache_dtlb_number_write_ports>0</cache_dtlb_number_write_ports>
    <cache_dtlb_number_readwrite_ports>1</cache_dtlb_number_readwrite_ports>
    <clock_freq>230000000</clock_freq>
    <clock_style>NORM_H</clock_style>
    <clock_skew>90</clock_skew>
    <opt_clock_buffer_num>4</opt_clock_buffer_num>
    <rf_freq>233000000</rf_freq>
    <rf_sC>0.1</rf_sC>
    <rf_number_rows>96</rf_number_rows>
    <rf_number_cols>8</rf_number_cols>
    <rf_number_read_ports>8</rf_number_read_ports>
    <rf_number_write_ports>4</rf_number_write_ports>
    <rf_number_readwrite_ports>0</rf_number_readwrite_ports>
    <bpred_freq>233000000</bpred_freq>
    <bpred_sC>0.1</bpred_sC>
    <bpred_number_rows>2048</bpred_number_rows>
    <bpred_number_cols>2</bpred_number_cols>
    <bpred_number_read_ports>1</bpred_number_read_ports>
    <bpred_number_write_ports>4</bpred_number_write_ports>
    <bpred_number_readwrite_ports>0</bpred_number_readwrite_ports>
    <logic_freq>233000000</logic_freq>
    <logic_style>STATIC</logic_style>
    <logic_num_gates>30000</logic_num_gates>
    <logic_num_functions>4</logic_num_functions>
    <logic_num_fan_in>10</logic_num_fan_in>
    <logic_num_fan_out>10</logic_num_fan_out>
    <alu_eC>2.0</alu_eC>
    <fpu_eC>2.0</fpu_eC>
    <mult_eC>2.0</mult_eC>
    <alu_freq>233000000</alu_freq>
    <fpu_freq>233000000</fpu_freq>
    <mult_freq>233000000</mult_freq>
    <io_sC>25</io_sC>
    <io_freq>233000000</io_freq>
    <io_style>OUT</io_style>
    <opt_io_buffer_num>5</opt_io_buffer_num>
    <io_ustrip_len>2</io_ustrip_len>
    <io_bus_width>8</io_bus_width>
    <io_transaction_size>32</io_transaction_size>
    <io_access_time>6</io_access_time>
    <io_cycle_time>2</io_cycle_time>   
</cpu2_params>
-->

<!-- McPAT--> 
<cpu1_params>
    <clock>2.2GHz</clock>
    <rev>1.5</rev>
    <power_monitor>YES</power_monitor>
    <power_model>McPAT</power_model>
    <power_level>2</power_level>    
    <supply_voltage>1.5</supply_voltage>
    <McPAT_XMLfile>/home/myhsieh/Desktop/trunk/sst/techModels/libMcPATbeta/McPATOOO.xml</McPAT_XMLfile>
    <core_temperature>360</core_temperature>
    <core_tech_node>32</core_tech_node>
    <core_clock_rate>2200000000</core_clock_rate>
    <core_physical_address_width>52</core_physical_address_width>
    <core_virtual_address_width>64</core_virtual_address_width>
    <core_virtual_memory_page_size>4096</core_virtual_memory_page_size>
    <core_number_hardware_threads>2</core_number_hardware_threads>
    <machine_bits>64</machine_bits>
    <machine_type>0</machine_type> 
    <archi_Regs_IRF_size>32</archi_Regs_IRF_size> 
    <archi_Regs_FRF_size>32</archi_Regs_FRF_size>
    <core_phy_Regs_IRF_size>80</core_phy_Regs_IRF_size>
    <core_phy_Regs_FRF_size>80</core_phy_Regs_FRF_size>
    <core_issue_width>4</core_issue_width>
    <core_register_windows_size>8</core_register_windows_size> 
    <core_opcode_width>11</core_opcode_width>	
    <core_instruction_window_size>64</core_instruction_window_size> 
    <core_decode_width>4</core_decode_width> 
    <core_instruction_length>32</core_instruction_length>
    <core_instruction_buffer_size>20</core_instruction_buffer_size> 
    <core_number_instruction_fetch_ports>1</core_number_instruction_fetch_ports>
    <core_fp_issue_width>1</core_fp_issue_width>
    <core_fp_instruction_window_size>64</core_fp_instruction_window_size>  
    <ALU_per_core>1</ALU_per_core> 
    <FPU_per_core>1</FPU_per_core>	
    <core_store_buffer_size>8</core_store_buffer_size> 
    <core_memory_ports>1</core_memory_ports>	
    <core_fetch_width>4</core_fetch_width> 
    <core_decode_width>4</core_decode_width>
    <core_commit_width>4</core_commit_width> 
    <core_int_pipeline_depth>12</core_int_pipeline_depth>
    <cache_freq>2200000000</cache_freq>
    <cache_il1_sC>32768</cache_il1_sC>
    <cache_il1_line_size>32</cache_il1_line_size>
    <cache_il1_associativity>8</cache_il1_associativity>
    <cache_il1_number_banks>1</cache_il1_number_banks>   
    <cache_il1_throughput>3</cache_il1_throughput>
    <cache_il1_latency>3</cache_il1_latency>
    <cache_il1_miss_buffer_size>16</cache_il1_miss_buffer_size>
    <cache_il1_fill_buffer_size>16</cache_il1_fill_buffer_size>
    <cache_il1_prefetch_buffer_size>16</cache_il1_prefetch_buffer_size>
    <cache_l1dir_sC>1048576</cache_l1dir_sC>
    <cache_l1dir_clock_rate>3500000000</cache_l1dir_clock_rate>
    <cache_l1dir_line_size>16</cache_l1dir_line_size>
    <cache_l1dir_number_banks>1</cache_l1dir_number_banks>
    <cache_l1dir_associativity>16</cache_l1dir_associativity>
    <cache_l1dir_throughput>2</cache_l1dir_throughput>
    <cache_l1dir_latency>100</cache_l1dir_latency>
    <cache_l1dir_miss_buffer_size>8</cache_l1dir_miss_buffer_size>
    <cache_l1dir_fill_buffer_size>8</cache_l1dir_fill_buffer_size>
    <cache_l1dir_prefetch_buffer_size>8</cache_l1dir_prefetch_buffer_size>
    <cache_l1dir_wbb_buffer_sizes>8</cache_l1dir_wbb_buffer_sizes> 
    <cache_l1dir_device_type>0</cache_l1dir_device_type>
    <cache_l1dir_directory_type>1</cache_l1dir_directory_type>
    <cache_dl1_sC>16384</cache_dl1_sC>
    <cache_dl1_line_size>32</cache_dl1_line_size>
    <cache_dl1_associativity>8</cache_dl1_associativity>
    <cache_dl1_number_banks>1</cache_dl1_number_banks>
    <cache_dl1_throughput>3</cache_dl1_throughput>
    <cache_dl1_latency>3</cache_dl1_latency>
    <cache_dl1_miss_buffer_size>16</cache_dl1_miss_buffer_size>
    <cache_dl1_fill_buffer_size>16</cache_dl1_fill_buffer_size>
    <cache_dl1_prefetch_buffer_size>16</cache_dl1_prefetch_buffer_size>
    <cache_dl1_wbb_buffer_sizes>16</cache_dl1_wbb_buffer_sizes>    
    <cache_itlb_number_entries>128</cache_itlb_number_entries> 
    <cache_dtlb_number_entries>128</cache_dtlb_number_entries>
    <bpred_prediction_width>4</bpred_prediction_width>
    <bpred_global_predictor_bits>2</bpred_global_predictor_bits>
    <bpred_global_predictor_entries>4096</bpred_global_predictor_entries>
    <bpred_local_predictor_size>10</bpred_local_predictor_size>
    <bpred_local_predictor_entries>1024</bpred_local_predictor_entries>
    <bpred_chooser_predictor_bits>2</bpred_chooser_predictor_bits>
    <bpred_chooser_predictor_entries>4096</bpred_chooser_predictor_entries>
    <core_RAS_size>32</core_RAS_size>
    <core_ROB_size>80</core_ROB_size>
    <btb_sC>8192</btb_sC>
    <btb_associativity>2</btb_associativity>
    <btb_throughput>1</btb_throughput>
    <btb_latency>3</btb_latency>
    <btb_number_banks>1</btb_number_banks>
    <btb_line_size>4</btb_line_size>
    <alu_sC>50</alu_sC>
    <fpu_sC>350</fpu_sC>
    <cache_l2_clock_rate>3500000000</cache_l2_clock_rate>
    <cache_l2_sC>262144</cache_l2_sC>
    <cache_l2_line_size>64</cache_l2_line_size>
    <cache_l2_number_banks>1</cache_l2_number_banks>
    <cache_l2_associativity>16</cache_l2_associativity>
    <cache_l2_throughput>2</cache_l2_throughput>
    <cache_l2_latency>100</cache_l2_latency>
    <cache_l2_miss_buffer_size>8</cache_l2_miss_buffer_size>
    <cache_l2_fill_buffer_size>8</cache_l2_fill_buffer_size>
    <cache_l2_prefetch_buffer_size>8</cache_l2_prefetch_buffer_size>
    <cache_l2_wbb_buffer_sizes>8</cache_l2_wbb_buffer_sizes>
    <cache_l2_device_type>1</cache_l2_device_type>
    <cache_l2dir_sC>1048576</cache_l2dir_sC>
    <cache_l2dir_clock_rate>3500000000</cache_l2dir_clock_rate>
    <cache_l2dir_line_size>16</cache_l2dir_line_size>
    <cache_l2dir_number_banks>1</cache_l2dir_number_banks>
    <cache_l2dir_associativity>16</cache_l2dir_associativity>
    <cache_l2dir_throughput>2</cache_l2dir_throughput>
    <cache_l2dir_latency>100</cache_l2dir_latency>
    <cache_l2dir_miss_buffer_size>8</cache_l2dir_miss_buffer_size>
    <cache_l2dir_fill_buffer_size>8</cache_l2dir_fill_buffer_size>
    <cache_l2dir_prefetch_buffer_size>8</cache_l2dir_prefetch_buffer_size>
    <cache_l2dir_wbb_buffer_sizes>8</cache_l2dir_wbb_buffer_sizes> 
    <cache_l2dir_device_type>0</cache_l2dir_device_type>
    <cache_l2dir_directory_type>1</cache_l2dir_directory_type>
    <cache_l3_clock_rate>3500000000</cache_l3_clock_rate>
    <cache_l3_sC>1048576</cache_l3_sC>
    <cache_l3_line_size>64</cache_l3_line_size>
    <cache_l3_number_banks>1</cache_l3_number_banks>
    <cache_l3_associativity>16</cache_l3_associativity>
    <cache_l3_throughput>2</cache_l3_throughput>
    <cache_l3_latency>100</cache_l3_latency>
    <cache_l3_miss_buffer_size>16</cache_l3_miss_buffer_size>
    <cache_l3_fill_buffer_size>16</cache_l3_fill_buffer_size>
    <cache_l3_prefetch_buffer_size>16</cache_l3_prefetch_buffer_size>
    <cache_l3_wbb_buffer_sizes>16</cache_l3_wbb_buffer_sizes>
    <cache_l3_device_type>0</cache_l3_device_type>
    <exeu_sC>100.0</exeu_sC>
    <mc_clock_rate>400000000</mc_clock_rate>
    <mc_llc_line_length>64</mc_llc_line_length>
    <mc_databus_width>128</mc_databus_width>
    <mc_addressbus_width>51</mc_addressbus_width>
    <mc_req_window_size_per_channel>32</mc_req_window_size_per_channel>
    <mc_memory_channels_per_mc>2</mc_memory_channels_per_mc>
    <mc_IO_buffer_size_per_channel>32</mc_IO_buffer_size_per_channel>
    <mainmemory_peak_transfer_rate>6400</mainmemory_peak_transfer_rate>
    <mainmemory_number_ranks>2</mainmemory_number_ranks>
    <router_clock_rate>3500000000</router_clock_rate>
    <router_has_global_link>0</router_has_global_link>
    <router_flit_bits>128</router_flit_bits>
    <router_input_buffer_entries_per_vc>16</router_input_buffer_entries_per_vc>
    <router_virtual_channel_per_port>2</router_virtual_channel_per_port>
    <router_input_ports>5</router_input_ports>
    <router_output_ports>8</router_output_ports>
    <router_link_throughput>1</router_link_throughput>
    <router_link_latency>1</router_link_latency>
    <router_horizontal_nodes>8</router_horizontal_nodes> 
    <router_vertical_nodes>4</router_vertical_nodes>
    <router_topology>RING</router_topology>
    <core_number_of_NoCs>1</core_number_of_NoCs>   	    		   
</cpu1_params>

<cpu2_params>
    <clock>2.2GHz</clock>
    <rev>1.5</rev>
    <power_monitor>NO</power_monitor>
    <power_model>McPAT</power_model>
    <power_level>2</power_level>    
    <supply_voltage>1.5</supply_voltage>
    <core_temperature>360</core_temperature>
    <core_tech_node>65</core_tech_node>
    <cache_freq>2200000000</cache_freq>
    <cache_il1_sC>8192</cache_il1_sC>
    <cache_il1_line_size>32</cache_il1_line_size>
    <cache_il1_associativity>8</cache_il1_associativity>
    <cache_il1_number_banks>1</cache_il1_number_banks>
    <core_physical_address_width>52</core_physical_address_width>
    <cache_il1_throughput>1</cache_il1_throughput>
    <cache_il1_latency>3</cache_il1_latency>
    <cache_il1_number_readwrite_ports>1</cache_il1_number_readwrite_ports>
    <cache_il1_miss_buffer_size>16</cache_il1_miss_buffer_size>
    <cache_il1_fill_buffer_size>16</cache_il1_fill_buffer_size>
    <cache_il1_prefetch_buffer_size>16</cache_il1_prefetch_buffer_size>
</cpu2_params>



<!-- reference definition for cpu component link -->
<cpu_link_params>
    <lat>1ns</lat>
    <name>MEM</name>
</cpu_link_params>

<|-- reference definition -->
<xbar_clock>2GHz</xbar_clock>

<|-- reference definition -->
<xbar_link_params>
	<lat>10ns</lat>
    <name>port1</name>
</xbar_link_params>



<sst>
	<component id="cpu1" weight=1.0 >	
		<cpu_power>
            <params>
                <cpuId>0xdeadbeef</cpuId>
                <params reference=cpu1_params />
            </params> 
			<links>
				<link id="cpu1xbar">
                    <params reference=cpu_link_params/>
				</link>
			</links>
		</cpu_power>
	</component>

	<component id="cpu1.xbar">	
		<xbar>
            <params>
                <clock reference=xbar_clock />
                <rev> 1.4 </rev>
            </params>
			<links>
				<link id="cpu1xbar">
					<params>
                        <lat>2ns</lat>
                        <name>port0</name>
                    </params>
				</link>
				<link id="xbar2xbar">
                    <params reference=xbar_link_params />
				</link>
			</links>
		</xbar>
	</component>

	<component id="cpu2.xbar">	
		<xbar>
            <params>
                <clock reference=xbar_clock />
                <rev> 1.4 </rev>
            </params>
			<links>
				<link id="xbar2xbar">
					<params>
                         <lat>10ns</lat>
                        <name>port1</name>
                    </params>
				</link>
				<link id="cpu2xbar">
					 <params>
                        <lat>1ns</lat>
                        <name>port0</name>
					 </params>
				</link>
			</links>
		</xbar>
	</component>

	<component id="cpu2">	
		<cpu_power>
            <params>
                <cpuId>0xdeadbeee</cpuId>
                <params reference=cpu2_params />
            </params>
			<links>
				<link id="cpu2xbar">
                    <params reference=cpu_link_params/>
				</link>
			</links>
		</cpu_power>
	</component>
</sst>
